<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Spike Shop</title>
    <link rel="stylesheet" href="../Style/tienda.css">
</head>

<body>
    <header>
        <h1><span>The Spike Shop</span></h1>
        <div class="carrito-container">
        <a href="#">
            <img src="../Images/carrito.png" alt="Carrito de la compra" class="carrito-icono">
            <span class="contador-carrito">0</span>
        </a>
        </div>
        <div class="login-container">
            <button id="signInBtn">Sign In</button>
        </div>


    </header>
    
    <main>


        <section class="barra-busqueda">
            <input type="text" id="caja-busqueda" placeholder="Buscar productos...">
            <div id="sugerencias" class="sugerencias"></div>
            <button onclick="buscarProducto()">Buscar</button>
        </section>
        
        <section class="productos">

            <div class="producto">
                <img src="../Images/Vandal_Prime.png" alt="Vandal Prime">
                <h3>Vandal Prime</h3>
                <a href="/producto?nombre=Vandal%20Prime" class="boton-comprar">Comprar</a>
            </div>

            <div class="producto">
                <img src="../Images/Vandal_Kuronami.png" alt="Vandal Kuronami">
                <h3>Vandal Kuronami</h3>
                <a href="/producto?nombre=Vandal%20Kuronami" class="boton-comprar">Comprar</a>
            </div>

            <div class="producto">
                <img src="../Images/Vandal_Reaver.png" alt="Vandal Reaver">
                <h3>Vandal Reaver</h3>
                <a href="/producto?nombre=Vandal%20Reaver" class="boton-comprar">Comprar</a>
            </div>

            <div class="producto">
                <img src="../Images/Vandal_Origin.png" alt="Vandal Origin">
                <h3>Vandal Origin</h3>
                <a href="/producto?nombre=Vandal%20Origin" class="boton-comprar">Comprar</a>
            </div>

            <div class="producto">
                <img src="../Images/Vandal_Evori.png" alt="Vandal Evori">
                <h3>Vandal Evori</h3>
                <a href="/producto?nombre=Vandal%20Evori" class="boton-comprar">Comprar</a>
            </div>

            <div class="producto">
                <img src="../Images/Vandal_Elderflame.png" alt="Vandal Elderflame">
                <h3>Vandal Elderflame</h3>
                <a href="/producto?nombre=Vandal%20Elderflame" class="boton-comprar">Comprar</a>
            </div>

            <div class="producto">
                <img src="../Images/Vandal_Primordium.png" alt="Vandal Primordium">
                <h3>Vandal Primordium</h3>
                <a href="/producto?nombre=Vandal%20Primordium" class="boton-comprar">Comprar</a>
            </div>

            <div class="producto">
                <img src="../Images/Vandal_Glitchpop.png" alt="Vandal Glitchpop">
                <h3>Vandal Glitchpop</h3>
                <a href="/producto?nombre=Vandal%20Glitchpop" class="boton-comprar">Comprar</a>
            </div>

        </section>

  
        </section>       
    </main>

    <!-- Pie de página-->
    <footer>
        <div class="footer-content">
            <p>&copy; 2025 The Spike Shop - Todos los derechos reservados.</p>
            <div class="footer-links">
                <a href="https://www.riotgames.com/es/privacy-notice-ES">Política de privacidad</a> | 
                <a href="https://www.riotgames.com/es/terms-of-service-ES">Términos y condiciones</a> | 
                <a href="https://x.com/VALORANTes">Contacto</a>
            </div>
        </div>
    </footer>
    
    <!-- Ventana Modal para Login -->
    <div id="loginModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Iniciar Sesión</h2>
        <form id="loginForm">
        <input type="text" id="usernameInput" placeholder="Nombre de usuario" required />
        <button type="submit">Entrar</button>
        </form>
        <p id="loginError" class="error-message"></p>
    </div>
    </div>



    <script>
  const modal = document.getElementById("loginModal");
  const signInButton = document.getElementById("signInBtn"); // Asegúrate de que el botón tiene este id
  const closeBtn = document.querySelector(".close");
  const loginForm = document.getElementById("loginForm");
  const usernameInput = document.getElementById("usernameInput");
  const loginError = document.getElementById("loginError");

  signInButton.onclick = () => {
    modal.style.display = "block";
    loginError.textContent = "";
  };

  closeBtn.onclick = () => {
    modal.style.display = "none";
  };

  window.onclick = (event) => {
    if (event.target === modal) {
      modal.style.display = "none";
    }
  };

  loginForm.onsubmit = (event) => {
    event.preventDefault();
    const username = usernameInput.value.trim();

    fetch('/usuarios') // Ruta en tienda.js
      .then(response => response.json())
      .then(data => {
        const usuarioValido = data.usuarios.find(user => user.nombre === username);
        if (usuarioValido) {
          modal.style.display = "none";
          alert("Conectado como: " + username);
          // Aquí puedes actualizar la interfaz para mostrar que está logueado
        } else {
          loginError.textContent = "Usuario no encontrado.";
        }
      });
  };
</script>


</body>
</html>
